/**
 * Copyright (c) 2011, SOCIETIES Consortium (WATERFORD INSTITUTE OF TECHNOLOGY (TSSG), HERIOT-WATT UNIVERSITY (HWU), SOLUTA.NET 
 * (SN), GERMAN AEROSPACE CENTRE (Deutsches Zentrum fuer Luft- und Raumfahrt e.V.) (DLR), Zavod za varnostne tehnologije
 * informacijske družbe in elektronsko poslovanje (SETCCE), INSTITUTE OF COMMUNICATION AND COMPUTER SYSTEMS (ICCS), LAKE
 * COMMUNICATIONS (LAKE), INTEL PERFORMANCE LEARNING SOLUTIONS LTD (INTEL), PORTUGAL TELECOM INOVAÇÃO, SA (PTIN), IBM Corp., 
 * INSTITUT TELECOM (ITSUD), AMITEC DIACHYTI EFYIA PLIROFORIKI KAI EPIKINONIES ETERIA PERIORISMENIS EFTHINIS (AMITEC), TELECOM 
 * ITALIA S.p.a.(TI),  TRIALOG (TRIALOG), Stiftelsen SINTEF (SINTEF), NEC EUROPE LTD (NEC))
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following
 * conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following
 *    disclaimer in the documentation and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
 * BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT 
 * SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
package ac.hw.rfid.server.gui;

/**
 * Copyright 2009 PERSIST consortium
 *  
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy
 * of the License at
 *  
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations
 * under the License.
 *
 */
/**
 * 
 */


import java.util.Vector;

import javax.swing.table.AbstractTableModel;

/**
 * @author Elizabeth
 *
 */
public class TagRegTable extends AbstractTableModel{
	private Vector<Vector> data;
	private String[] columnNames = {
            "Tag Number",
            "DPI",
            "Password"};

	public TagRegTable(){
		super();
		this.data = new Vector<Vector>();
	}
	 public int getColumnCount() {
            return columnNames.length;
        }


		/* (non-Javadoc)
		 * @see javax.swing.table.TableModel#getRowCount()
		 */
		@Override
		public int getRowCount() {
			// TODO Auto-generated method stub
			return data.size();
		}
        public String getColumnName(int col) {
            return columnNames[col];
        }

        public Object getValueAt(int row, int col) {
        	Vector rowVector = (Vector) data.get(row);
            return rowVector.get(col);
        }

        /*
         * JTable uses this method to determine the default renderer/
         * editor for each cell.  If we didn't implement this method,
         * then the last column would contain text ("true"/"false"),
         * rather than a check box.
         */
        public Class getColumnClass(int c) {
        	return String.class;
        }

        /*
         * Don't need to implement this method unless your table's
         * editable.
         */
        public boolean isCellEditable(int row, int col) {
            //Note that the data/cell address is constant,
            //no matter where the cell appears onscreen.
            return false;
        }
        /*
         * Don't need to implement this method unless your table's
         * data can change.
         */
        public void setValueAt(Object value, int row, int col) {
            Vector rowVector = (Vector) data.get(row);
            rowVector.set(col, value);
            fireTableCellUpdated(row, col);
        }
        
        public void addRow(Vector row){
        	
        	this.data.add(row);
        	for (int i=0;i<row.size(); i++){
        		System.out.println(row.get(i));
        	}
        	
        	this.fireTableDataChanged();
        }
        
        public void removeRow(int row){
        	this.data.remove(row);
        	this.fireTableDataChanged();
        }
        
        public void changePassword(String tagNumber, String password){
        	boolean found = false;
        	for (int i = 0; i < data.size(); i++){
        		String tempTag = (String) this.getValueAt(i, 0);
        		if (tempTag.equalsIgnoreCase(tagNumber)){
        			this.setValueAt(password, i, 2);
        			found = true;
        		}
        		
        	}
        	if (!found){
        		Vector<String> row = new Vector<String>();
        		row.add(tagNumber);
        		row.add("");
        		row.add(password);
        		this.addRow(row);
        	}
        	
        }
        
        public void changeDPI(String tagNumber, String dpi){
        	for (int i = 0; i < data.size(); i++){
        		String tempTag = (String) this.getValueAt(i, 0);
        		if (tempTag.equalsIgnoreCase(tagNumber)){
        			this.setValueAt(dpi, i, 1);
        		}
        		
        	}
        }
        
        public boolean containsTag(String tagNumber){
        	for (int i = 0; i < data.size(); i++){
        		String tempTag = (String) this.getValueAt(i, 0);
        		if (tempTag.equalsIgnoreCase(tagNumber)){
        			return true;
        		}
        	}
        	
        	return false;
        }
	
}